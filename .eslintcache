[{"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\index.js":"1","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\reportWebVitals.js":"2","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\constants.ts":"3","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\App\\index.js":"4","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Chat\\index.tsx":"5","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Sidebar\\index.tsx":"6","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Lobby\\index.tsx":"7","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Room\\index.tsx":"8","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\SidebarMember\\index.tsx":"9","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\context\\ChatContext.ts":"10","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\services\\SocketService.ts":"11","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\services\\Axios.ts":"12"},{"size":717,"mtime":1607425705067,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":275,"mtime":1607582526446,"results":"16","hashOfConfig":"14"},{"size":516,"mtime":1607501226384,"results":"17","hashOfConfig":"14"},{"size":3561,"mtime":1607766471818,"results":"18","hashOfConfig":"14"},{"size":1202,"mtime":1607424250173,"results":"19","hashOfConfig":"14"},{"size":1842,"mtime":1607766243097,"results":"20","hashOfConfig":"14"},{"size":248,"mtime":1607503332554,"results":"21","hashOfConfig":"14"},{"size":452,"mtime":1607422336788,"results":"22","hashOfConfig":"14"},{"size":268,"mtime":1607425803801,"results":"23","hashOfConfig":"14"},{"size":1045,"mtime":1607766472694,"results":"24","hashOfConfig":"14"},{"size":131,"mtime":1607507584376,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"ijghcb",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"33"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\index.js",[],["54","55"],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\reportWebVitals.js",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\constants.ts",[],["56","57"],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\App\\index.js",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Chat\\index.tsx",["58"],"import { Avatar, IconButton } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport MoodIcon from '@material-ui/icons/Mood';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport './style.css';\r\nimport { ChatMessage } from '../../types';\r\nimport { ChatEvent } from '../../constants';\r\nimport { MessageStatus } from '../../constants';\r\nimport { ChatContext } from '../../context/ChatContext';\r\nimport axios from '../../services/Axios';\r\n\r\nconst Chat = () => {\r\n\tconst context = useContext(ChatContext);\r\n\tconst [ messages, setMessages ] = useState([\r\n\t\t{\r\n\t\t\tauthor: 'System',\r\n\t\t\tmessage: 'Welcome! Type to chatting now..',\r\n\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\tstatus: 'sent'\r\n\t\t}\r\n\t] as ChatMessage[]);\r\n\tconst [ input, setInput ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconsole.log('Initializing Socket Context..');\r\n\t\t\tcontext.init();\r\n\t\t\t// context.join({name: , room: })\r\n\t\t\treturn () => {\r\n\t\t\t\tconsole.log('Disconnecting Socket Context..');\r\n\t\t\t\tconst nickname = sessionStorage.getItem('nickname');\r\n\t\t\t\tconst roomCode = sessionStorage.getItem('room_code');\r\n\t\t\t\taxios.post('/api/v1/rooms/leave', { nickname, roomCode }).then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t});\r\n\t\t\t\tcontext.disconnect();\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ context ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconsole.log('ChatMessage Observable..');\r\n\t\t\tconst observable = context.onMessage();\r\n\t\t\tobservable.subscribe((message: ChatMessage) => {\r\n\t\t\t\tsetMessages([ ...messages, message ]);\r\n\t\t\t});\r\n\t\t\t// TODO cleanup\r\n\t\t\treturn () => {\r\n\t\t\t\tconsole.log('ChatMessage Observable Cleanup..');\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ messages, context ]\r\n\t);\r\n\r\n\tconst sendMessage = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n\t\te.preventDefault();\r\n\t\tif (input) {\r\n\t\t\tconst messageDetails: ChatMessage = {\r\n\t\t\t\tauthor: 'Rose',\r\n\t\t\t\tmessage: input,\r\n\t\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\t\tstatus: MessageStatus.SENT\r\n\t\t\t};\r\n\t\t\tsetInput('');\r\n\r\n\t\t\tconsole.log('sending message: ' + JSON.stringify(messageDetails));\r\n\t\t\tcontext.send(messageDetails);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"chat\">\r\n\t\t\t<div className=\"chat__header\">\r\n\t\t\t\t<Avatar />\r\n\t\t\t\t<div className=\"chat__headerInfo\">\r\n\t\t\t\t\t<h3>Room Name</h3>\r\n\t\t\t\t\t<p> Last seen at...</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chat__headerIcons\">\r\n\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t<AttachFileIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t<MoreVertIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"chat__body\">\r\n\t\t\t\t{messages.map(({ author, message, timestamp, status }: ChatMessage, i) => {\r\n\t\t\t\t\t// TODO temp\r\n\t\t\t\t\tconst received = true;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<p key={i} className={`chat__message ${received && 'chat__message--receiver'}`}>\r\n\t\t\t\t\t\t\t<span className=\"chat__person\">{author}</span>\r\n\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t<span className=\"chat__timestamp\">{timestamp}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"chat__footer\">\r\n\t\t\t\t<IconButton>\r\n\t\t\t\t\t<MoodIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<input value={input} onChange={(e) => setInput(e.target.value)} type=\"text\" placeholder=\"Start typing..\" />\r\n\t\t\t\t\t<button onClick={sendMessage} type=\"submit\">\r\n\t\t\t\t\t\tSend\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<IconButton>\r\n\t\t\t\t\t<MicIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Chat;\r\n","C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Sidebar\\index.tsx",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Lobby\\index.tsx",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\Room\\index.tsx",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\components\\SidebarMember\\index.tsx",[],["59","60"],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\context\\ChatContext.ts",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\services\\SocketService.ts",[],"C:\\Users\\roseb\\Documents\\Personal\\chat-frontend\\src\\services\\Axios.ts",[],{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":10,"column":10,"nodeType":"67","messageId":"68","endLine":10,"endColumn":19},{"ruleId":"61","replacedBy":"69"},{"ruleId":"63","replacedBy":"70"},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"@typescript-eslint/no-unused-vars","'ChatEvent' is defined but never used.","Identifier","unusedVar",["71"],["72"],"no-global-assign","no-unsafe-negation"]